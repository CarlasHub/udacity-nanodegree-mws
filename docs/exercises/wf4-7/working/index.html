<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Quiz - Event Listener</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  <!-- jquery.ui.touch-punch adds touch events to jQuery UI so that $().draggable works on mobile -->
  <script src="http://udacity.github.io/course-web-forms/etc/jquery.ui.touch-punch.min.js"></script>
  <style>
	#square {
		background-color: red;
	 	height: 200px;
	 	width: 200px;
	}

	.output {
	 	-moz-user-select: none;
	 	-webkit-user-select: none;
	 	-ms-user-select: none;
	 	user-select: none;
	}
  </style>
</head>
<body>
	<form>
		<div id="square"></div>
		<p id="output1"></p>
		<!-- <p id="output2"></p> -->
		<p id="output3"></p>
  </form>
  <script>
	
	/*
	You can solve this quiz with vanilla JS or jQuery!
	 */

	(function() {
	  var square = document.querySelector('#square');
	  var output1 = document.querySelector('#output1');
	  var output2 = document.querySelector('#output2');

		// square.addEventListener('touchstart', (e)=> e.preventDefault(),true);
		// square.addEventListener('touchmove', (e) => e.preventDefault(), true);
		square.addEventListener('touchend', handleTouchEnd);
		// square.addEventListener('mouseup', handleMouseUp);
		square.addEventListener('click', handleClick);
		
		function handleTouchEnd(e) {
			// e.preventDefault(); // looks like this is no longer necessary
			output1.innerHTML = 'touchend';
			clear();
		}

		// function handleMouseUp(e) {
		// 	output2.innerHTML = 'mouseup';
		// 	clear();
		// }

		function handleClick(e) {
			output3.innerHTML = 'click';
			clear();
		}

		function clear() {
			setTimeout(function() {
				output1.innerHTML = '';
				output2.innerHTML = '';
				output3.innerHTML = '';
			}, 2000)
		}
	})();
	
	/*
	FYI, this is the jQuery way of running a locally scoped function on
	document ready. Check out http://gregfranko.com/blog/jquery-best-practices/
	to learn more.
	 */
	$(function(){
	  var square = $('#square');
	  var output = $('#output');

	  /*
	  Don't delete this or the square won't be draggable!
	   */
	  square.draggable();
	  
	  /*
	  If you want to use jQuery, your code goes here!
	   */
	});

  </script>
</body>
</html>